require([],function(){});var Nav=function(){function m(){$(".content").removeClass("rearrange").addClass("fade fadeIn")}function y(){var e=$(".nav-choices-menu"),t="navMenuSlideIn",n="navMenuSlideOut",r=t+" "+n;return function(t){e.toggleClass(r)}}function w(e){var t=$(e.getDivClass());if(t.length==0){var n=e.getHref();fetch.getPage(n)}else fetch.showPage(e.getDivClass())}function x(){$(".dim").toggleClass("display-none").toggleClass("display-block");$("body").toggleClass("body-grey-out")}function T(e){$(".externals").toggleClass("externals-show");x();$(".dim").click(function(e){$(".externals").toggleClass("externals-show");x();$(this).unbind("click");e.stopPropagation();e.stopImmediatePropagation();e.preventDefault()})}var e=[],t={},n,r=[],i={},s={test:"test"},o=document.URL,u=window.location.hash?window.location.hash:"",a=$(".welcome-text"),f=$(".page-title"),l="index",c="nav",h=[l,c],p,d=new Event("pagesetup");document.addEventListener("pagesetup",m);var v=function(){$(".choice").each(N(s));if(u&&s[u]){p=c;$(".content").addClass("rearrange");g(s[u],!0,m)}else p=l},g=function(e,t,n){$(".index-stuff").animate({opacity:0},function(){$(".page-title").text(e.getName());$(".page-title-container").toggleClass("page-title-hidden");a.remove();console.log(e.getName());$navChoices=$(".nav-choices");$(".choice-hide").addClass("choice").removeClass("choice-hide");$(".choice.invisible").removeClass("choice invisible").addClass("choice-hide");$(".nav-menu").append($navChoices);$navChoices.removeClass("nav-choices").addClass("nav-choices-menu navMenuSlideOut");e.greyOut();$(".nav-menu-toggle .burger").click(y());$(".page-data").addClass("fadeIn").removeClass("zero-opacity");n&&n();setTimeout(function(){w(e)},200)})},b=function(e,t){function r(e){var t=e;return function(){$(".page-title").text(t).removeClass("page-title-hidden")}}var n=$(".page-title");n.addClass("page-title-hidden");setTimeout(r(t),500)},E=function(t){if(p==l){p=c;for(var n in e)if(e.hasOwnProperty(n)){var s=e[n],o=t.getName(),u=s.getName();s.setNavMode(p);if(u!=o){r.push(e[s]);i[u]}}g(t)}else{$(".selected").removeClass("selected");t.greyOut();b(t,t.getName());w(t)}},S=function(r){var i=$(this).text(),s=e[t[i]];n=s;var o=s.getNavMode();E(n)},N=function(n){var n=n;return function(r,i){var s=$(this).find(".text").text(),o=e.length,u=new Choice;u.init(s,$(this),l);$(this).children("a").length?u.obj().find("a").click(S):s.toLowerCase()=="contact"&&$(this).find(".text").click(T);console.log(u.getHref());n[u.getHref()]=u;e.push(u);t[s]=o}},C={init:v};return C},Choice=function(){function f(e){}var e="",t="",n,r,i="",s,o,u=function(e,t,n){if(e){this.name=e;this.divClass="."+e.toLowerCase()}if(t){this.$this=t;this.href=this.$this.find("a").attr("href")}n&&(this.navMode=n)},a=function(){this.$this.addClass("selected")},l=function(){return this.$this},c=function(){return this.navMode},h=function(){return this.name},p=function(){return this.href},d=function(){return this.divClass},v=function(e){e&&(this.navMode=e)},m=function(e){this.choiceArrayIndex=e},g=function(e){this.unclickedChoiceArrayIndex=e},y={init:u,greyOut:a,obj:l,getNavMode:c,getName:h,getHref:p,getDivClass:d,setNavMode:v,setChoiceArrayIndex:m,setUnclickedChoiceArrayIndex:g};return y};